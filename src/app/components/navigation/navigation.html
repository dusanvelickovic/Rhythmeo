<nav class="w-full bg-transparent p-4 py-6 sm:py-8">
    <div class="container mx-auto flex justify-between items-center">
        <a routerLink="/home" class="text-white text-lg sm:text-xl font-bold uppercase tracking-wider">Rhythmeo</a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center">
            <a
              routerLink="/favorites"
              routerLinkActive="text-xl text-white"
              [routerLinkActiveOptions]="{ exact: true }"
              class="text-gray-300 hover:text-white mx-4 uppercase tracking-wide font-semibold text-sm"
            >
              Favorites
            </a>
            <a
              routerLink="/playlists"
              routerLinkActive="text-xl text-white"
              [routerLinkActiveOptions]="{ exact: true }"
              class="text-gray-300 hover:text-white mx-4 uppercase tracking-wide font-semibold text-sm"
            >
                Playlists
            </a>
            
            <!-- Song Search -->
            <app-spotify-search (searchRequested)="onSearchRequested($event)"></app-spotify-search>
        </div>

        <!-- Desktop Profile Icon -->
        <a routerLink="/profile" class="hidden md:block text-gray-300 hover:text-white mx-4">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
            </svg>
        </a>

        <!-- Mobile Menu Button -->
        <button 
            (click)="toggleMobileMenu()"
            class="md:hidden text-gray-300 hover:text-white p-2"
            aria-label="Toggle menu"
        >
            @if (!isMobileMenuOpen()) {
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            } @else {
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
            }
        </button>
    </div>

    <!-- Mobile Menu -->
    @if (isMobileMenuOpen()) {
        <div class="md:hidden mt-4 pb-4 border-t border-gray-800 pt-4">
            <div class="flex flex-col space-y-4">
                <a
                  routerLink="/favorites"
                  routerLinkActive="text-white"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="closeMobileMenu()"
                  class="text-gray-300 hover:text-white uppercase tracking-wide font-semibold text-sm"
                >
                  Favorites
                </a>
                <a
                  routerLink="/playlists"
                  routerLinkActive="text-white"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="closeMobileMenu()"
                  class="text-gray-300 hover:text-white uppercase tracking-wide font-semibold text-sm"
                >
                    Playlists
                </a>
                
                <!-- Mobile Song Search -->
                <div class="pt-2">
                    <app-spotify-search (searchRequested)="onSearchRequested($event)"></app-spotify-search>
                </div>

                <!-- Mobile Profile Link -->
                <a 
                    routerLink="/profile" 
                    (click)="closeMobileMenu()"
                    class="text-gray-300 hover:text-white uppercase tracking-wide font-semibold text-sm flex items-center gap-2"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                    </svg>
                    Profile
                </a>
            </div>
        </div>
    }
</nav>
